!function(a,b,c,d){"use strict";var e=c.Model.extend({initialize:function(a,c){c||(c={});var d=b.createApplication();this.initApplication(a,c,d),this.api=d,this.initialized=!0},initApplication:function(a,b,c){var e=this;return d.defaults(b,{selectedModeMaxChars:12,selectedModeFallback:""}),c.addHasActiveEngineObserver(function(a){e.set("hasActiveEngine",a,{observed:!0})}),c.addSelectedModeObserver(function(a){e.set("selectedMode",a,{observed:!0})},b.selectedModeMaxChars,b.selectedModeFallback),this.on("change:hasActiveEngine",function(a,b,c){c.observed||this.initialized&&(b?this.deactivateEngine():this.activateEngine())}),this},activateEngine:function(){return this.api.activateEngine(),this},arrowKeyDown:function(){return this.api.arrowKeyDown(),this},arrowKeyLeft:function(){return this.api.arrowKeyLeft(),this},arrowKeyRight:function(){return this.api.arrowKeyRight(),this},arrowKeyUp:function(){return this.api.arrowKeyUp(),this},copy:function(){return this.api.copy(),this},cut:function(){this.api.cut()},deactivateEngine:function(){return this.api.deactivateEngine(),this},"delete":function(){return this.api["delete"](),this},duplicate:function(){return this.api.duplicate(),this},enter:function(){return this.api.enter(),this},escape:function(){return this.api.escape(),this},focusPanelAbove:function(){return this.api.focusPanelAbove(),this},focusPanelBelow:function(){return this.api.focusPanelBelow(),this},focusPanelToLeft:function(){return this.api.focusPanelToLeft(),this},focusPanelToRight:function(){return this.api.focusPanelToRight(),this},nextPerspective:function(){return this.api.nextPerspective(),this},paste:function(){return this.api.paste(),this},previousPerspective:function(){return this.api.previousPerspective(),this},redo:function(){return this.api.redo(),this},rename:function(){return this.api.rename(),this},selectAll:function(){return this.api.selectAll(),this},selectNone:function(){return this.api.selectNone(),this},setPerspective:function(a){return this.api.setPerspective(a),this},toggleAutomationEditor:function(){return this.api.toggleAutomationEditor(),this},toggleBrowserVisibility:function(){return this.api.toggleBrowserVisibility(),this},toggleDevices:function(){return this.api.toggleDevices(),this},toggleFullScreen:function(){return this.api.toggleFullScreen(),this},toggleMixer:function(){return this.api.toggleMixer(),this},toggleNoteEditor:function(){return this.api.toggleNoteEditor(),this},undo:function(){return this.api.undo(),this},zoomIn:function(){return this.api.zoomIn(),this},zoomOut:function(){return this.api.zoomOut(),this},zoomToFit:function(){return this.api.zoomToFit(),this},zoomToSelection:function(){return this.api.zoomToSelection(),this}},{create:function(a){return new e(a)}});a.bitbone||(a.bitbone={}),a.bitbone.Application=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=c.Model.extend({initialize:function(a,c){c||(c={}),d.defaults(c,{screenIndex:0});var e=b.createArranger(c.screenIndex);this.initArranger(a,c,e),this.api=e,this.initialized=!0},initArranger:function(a,b,c){var d=this;return c.addCueMarkerVisibilityObserver(function(a){d.set("cueMarkerVisibility",a,{observed:!0})}),c.addPlaybackFollowObserver(function(a){d.set("playbackFollow",a,{observed:!0})}),c.addTrackRowHeightObserver(function(a){d.set("trackRowHeight",a,{observed:!0})}),this.on("change:cueMarkerVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleCueMarkerVisibility()}).on("change:playbackFollow",function(a,b,c){c.observed||this.initialized&&this.togglePlaybackFollow()}).on("change:trackRowHeight",function(a,b,c){c.observed||this.initialized&&this.toggleTrackRowHeight()}),this},toggleCueMarkerVisibility:function(){return this.api.toggleCueMarkerVisibility(),this},togglePlaybackFollow:function(){return this.api.togglePlaybackFollow(),this},toggleTrackRowHeight:function(){return this.api.toggleTrackRowHeight(),this}},{create:function(a){return new e(a)}});a.bitbone||(a.bitbone={}),a.bitbone.Arranger=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initBooleanValue(a,b,c),this.api=c,this.initialized=!0},initRangedValue:function(a,b,c){d.defaults(b,{range:128});var e=this;return this.range=b.range,c.addValueObserver(this.range,function(a){e.set("value",a,{observed:!0})}),this.on("change:value",function(a,b,e){e.observed||this.initialized&&c.set(b,d.isNumber(e.range)?e.range:this.range)}),this},inc:function(a,b){var c=d.isNumber(b)?b:this.range;return this.api.inc(a,c),this}},{create:function(a,b){return new e(null,b,a)}}),f=c.Collection.extend({model:e});a.bitbone||(a.bitbone={}),a.bitbone.RangedValue=e,a.bitbone.RangedValueCollection=f}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.RangedValue,f=e.extend({initialize:function(a,b,c){b||(b={}),this.initAutomatableRangedValue(a,b,c),this.api=c,this.initialized=!0},initAutomatableRangedValue:function(a,b,c){var e=this;return this.initRangedValue(a,b,c),d.defaults(b,{nameMaxChars:12,nameFallback:"",textMaxChars:12,textFallback:""}),c.addNameObserver(b.nameMaxChars,b.nameFallback,function(a){e.set("name",a,{observed:!0})}),c.addValueDisplayObserver(b.textMaxChars,b.textFallback,function(a){e.set("text",a,{observed:!0})}),this},reset:function(){return this.api.reset(),this},setIndication:function(a){return this.api.setIndication(a),this},setLabel:function(a){return this.api.setLabel(a),this},touch:function(a){return this.api.touch(a),this}},{create:function(a,b){return new f(void 0,b,a)}}),g=c.Collection.extend({model:f});a.bitbone||(a.bitbone={}),a.bitbone.AutomatableRangedValue=f,a.bitbone.AutomatableRangedValueCollection=g}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.RangedValue,f=e.extend({initialize:function(a,b,c){b||(b={}),this.initBeatTime(a,b,c),this.api=c,this.initialized=!0},initBeatTime:function(a,b,c){var e=this;return this.initRangedValue(a,b,c),d.defaults(b,{separator:".",barsLen:1,beatsLen:1,subdivisionLen:1,ticksLen:0}),c.addRawValueObserver(function(a){e.set("rawValue",a,{observed:!0})}),c.addTimeObserver(b.separator,b.barsLen,b.beatsLen,b.subdivisionLen,b.ticksLen,function(a){e.set("text",a,{observed:!0})}),this.on("change:rawValue",function(a,b,c){c.observed||this.initialized&&this.api.setRaw(b)}),this},incRaw:function(a){return this.api.incRaw(a),this}},{create:function(a,b){return new f(null,b,a)}});a.bitbone||(a.bitbone={}),a.bitbone.BeatTime=f}(this,host,Backbone,_),function(a,b,c){"use strict";var d=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initBooleanValue(a,b,c),this.api=c,this.initialized=!0},initBooleanValue:function(a,b,c){var d=this;return c.addValueObserver(function(a){d.set("value",a,{observed:!0})}),this.on("change:value",function(a,b,c){c.observed||this.initialized&&this.api.set(b)}),this},toggle:function(){return this.api.toggle(),this}},{create:function(a,b){return new d(null,b,a)}}),e=c.Collection.extend({model:d});a.bitbone||(a.bitbone={}),a.bitbone.BooleanValue=d,a.bitbone.BooleanValueCollection=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.BooleanValue,f=a.bitbone.AutomatableRangedValue,g=a.bitbone.AutomatableRangedValueCollection,h=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initChannel(a,b,c),this.api=c,this.initialized=!0},initChannel:function(a,b,c){var h=this;d.defaults(b,{useNoteEvent:!1,useVuMeter:!1,numSends:8,nameMaxChars:12,nameFallback:"",vuMeterRamge:127}),c.addColorObserver(function(a,b,c){h.set("color",{R:a,G:b,B:c},{observed:!0})}),c.addIsSelectedObserver(function(a){h.set("selected",a,{observed:!0})}),c.addNameObserver(b.nameMaxChars,b.nameFallback,function(a){h.set("name",a,{observed:!0})}),b.useNoteEvent&&c.addNoteObserver(function(a,b,c){h.trigger("note",a,b,c)}),b.useVuMeter&&(c.addVuMeterObserver(b.vuMeterRange,0,!0,function(a){h.set("vuMeterLeft",a,{observed:!0})}),c.addVuMeterObserver(b.vuMeterRange,1,!0,function(a){h.set("vuMeterRight",a,{observed:!0})}));for(var i=new g,j=0;j<b.numSends;j++){var k=c.getSend(j);if(null===k)break;i.add(f.create(c.getSend(j),b.send))}return this.set({exists:e.create(c.exists()),mute:e.create(c.getMute()),pan:f.create(c.getPan(),b.pan),sends:i,solo:e.create(c.getSolo()),volume:f.create(c.getVolume(),b.volume)}),this},select:function(){return this.api.select(),this}},{create:function(a,b){return new h(void 0,b,a)}}),i=c.Collection.extend({model:h});a.bitbone||(a.bitbone={}),a.bitbone.Channel=h,a.bitbone.ChannelCollection=i}(this,host,Backbone,_),function(a,b,c){"use strict";var d=c.Model.extend({idAttribute:"slot",initialize:function(a,b){b||(b={}),this.initClipLauncherSceneOrSlot(a,b),this.api=b.api,this.initialized=!0},initClipLauncherSceneOrSlot:function(){return this},launch:function(){this.api.launch(this.get("slot"))}}),e=c.Collection.extend({model:d,initialize:function(a,b,c){b||(b={}),this.initClipLauncherScenesOrSlots(a,b,c),this.api=c,this.initialized=!0},initClipLauncherScenesOrSlots:function(a,b,c){var d=this;return c.addNameObserver(function(a,b){d.add({slot:a,name:b},{observed:!0,merge:!0,api:c})}),this},returnToArrangement:function(){return this.api.returnToArrangement(),this},stop:function(){return this.api.stop(),this}},{create:function(a,b){return new e(void 0,b,a)}});a.bitbone||(a.bitbone={}),a.bitbone.ClipLauncherSceneOrSlot=d,a.bitbone.ClipLauncherScenesOrSlots=e}(this,host,Backbone,_),function(a){"use strict";var b=a.bitbone.ClipLauncherSceneOrSlot,c=a.bitbone.ClipLauncherScenesOrSlots,d=b.extend({idAttribute:"slot",initialize:function(a,b){b||(b={}),this.initClipLauncherSlot(a,b),this.api=b.api,this.initialized=!0},initClipLauncherSlot:function(a,b){return this.initClipLauncherSceneOrSlot(a,b),this},record:function(){return this.api.record(this.get("slot")),this},select:function(){return this.api.select(this.get("slot")),this},showInEditor:function(){return this.api.showInEditor(this.get("slot")),this}}),e=c.extend({model:d,initialize:function(a,b,c){b||(b={}),this.initClipLauncherSlots(a,b,c),this.api=c,this.initialized=!0},initClipLauncherSlots:function(a,b,c){var d=this;return this.initClipLauncherScenesOrSlots(a,b,c),c.addColorObserver(function(a,b,c,e){d.add({slot:a,color:{R:b,G:c,B:e}},{observed:!0,merge:!0})}),c.addHasContentObserver(function(a,b){d.add({slot:a,hasContent:b},{observed:!0,merge:!0})}),c.addIsPlayingObserver(function(a,b){d.add({slot:a,playing:b},{observed:!0,merge:!0})}),c.addIsQueuedObserver(function(a,b){d.add({slot:a,queued:b},{observed:!0,merge:!0})}),c.addIsRecordingObserver(function(a,b){d.add({slot:a,recording:b},{observed:!0,merge:!0})}),c.addIsSelectedObserver(function(a,b){d.add({slot:a,selected:b},{observed:!0,merge:!0})}),this},createEmptyClip:function(a,b){return this.api.createEmptyClip(a,b),this},setIndication:function(a){return this.api.setIndication(a),this}},{create:function(a,b){return new e(void 0,b,a)}});a.bitbone||(a.bitbone={}),a.bitbone.ClipLauncherSlot=d,a.bitbone.ClipLauncherSlots=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.RangedValue,f=a.bitbone.BooleanValue,g=c.Model.extend({initialize:function(a,c){c||(c={}),d.defaults(c,{gridWidth:128,gridHeight:128});var e=b.createCursorClip(c.gridWidth,c.gridHeight);this.initClip(a,c,e),this.api=e,this.initialized=!0},initClip:function(a,b,c){var d=this;return c.addCanScrollKeysDownObserver(function(a){d.set("canScrollKeysDown",a,{observed:!0})}),c.addCanScrollKeysUpObserver(function(a){d.set("canScrollKeysUp",a,{observed:!0})}),c.addCanScrollStepsForwardObserver(function(a){d.set("canScrollStepsForward",a,{observed:!0})}),c.addPlayingStepObserver(function(a){d.set("playingStep",a,{observed:!0})}),c.addStepDataObserver(function(){}),this.set({shuffle:f.create(c.getShuffle()),accent:e.create(c.getAccent(),b.accent)}),this},clearStep:function(a,b){return this.api.clearStep(a,b),this},scrollKeysPageDown:function(){return this.api.scrollKeysPageDown(),this},scrollKeysPageUp:function(){return this.api.scrollKeysPageUp(),this},scrollKeysStepDown:function(){return this.api.scrollKeysStepDown(),this},scrollKeysStepUp:function(){return this.api.scrollKeysStepUp(),this},scrollStepsStepBackwards:function(){return this.api.scrollStepsStepBackwards(),this},scrollStepsStepForward:function(){return this.api.scrollStepsStepForward(),this},scrollToKey:function(a){return this.api.scrollToKey(a),this},scrollToStep:function(a){return this.api.scrollToStep(a),this},selectStepContents:function(a,b,c){return this.api.scrollToStep(a,b,c),this},setName:function(a){return this.api.setName(a),this},setStep:function(a,b,c){return this.api.setStep(a,b,c),this},setStepSize:function(a){return this.api.setStepSize(a),this},toggleStep:function(a,b,c){return this.api.setStep(a,b,c),this}},{create:function(a){return new g(a)}});a.bitbone||(a.bitbone={}),a.bitbone.Clip=g}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initModulationSource(a,b,c),this.api=c,this.initialized=!0},initModulationSource:function(a,b,c){var e=this;return d.defaults(b,{nameMaxChars:12,nameFallback:""}),c.addIsMappingObserver(function(a){e.set("mapping",a,{observed:!0})}),c.addNameObserver(b.nameMaxChars,b.nameFallback,function(a){e.set("name",a,{observed:!0})}),this.on("change:mapping",function(a,b,c){c.observed||this.initialized&&this.api.toggleMapping()}),this},toggleMapping:function(){return this.api.toggleMapping(),this}},{create:function(a,b){return new e(null,b,a)}}),f=c.Collection.extend({model:e});a.bitbone||(a.bitbone={}),a.bitbone.ModulationSource=e,a.bitbone.ModulationSourceCollection=f}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.AutomatableRangedValue,f=a.bitbone.ModulationSource,g=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initMacro(a,b,c),this.api=c,this.initialized=!0},initMacro:function(a,b,c){d.defaults(b,{labelMaxChars:12,labelFallback:""});var g=this;return c.addLabelObserver(b.labelMaxChars,b.labelFallback,function(a){g.set("label",a,{observed:!0})}),this.set({amount:e.create(c.getAmount(),b.amount),modulationSource:f.create(c.getModulationSource(),b.modulationSource)}),this}},{create:function(a,b){return new g(null,b,a)}}),h=c.Collection.extend({model:g});a.bitbone||(a.bitbone={}),a.bitbone.Macro=g,a.bitbone.MacroCollection=h}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.AutomatableRangedValue,f=a.bitbone.AutomatableRangedValueCollection,g=a.bitbone.Macro,h=a.bitbone.MacroCollection,i=a.bitbone.ModulationSource,j=a.bitbone.ModulationSourceCollection,k=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initDevice(a,b,c),this.api=c,this.initialized=!0},initDevice:function(a,b,c){d.defaults(b,{modulationSourceMaxChars:12,modulationSourceFallback:"",nameMaxChars:12,nameFallback:"",presetCategoryMaxChars:12,presetCategoryFallback:"",presetCreatorMaxChars:12,presetCreatorFallback:""});var k,l,m=this;for(c.addActiveModulationSourceObserver(b.modulationSourceMaxChars,b.modulationSourceFallback,function(a){m.set("activeModulationSource",a,{observed:!0})}),c.addHasSelectedDeviceObserver(function(a){m.set("hasSelectedDevice",a,{observed:!0})}),c.addIsEnabledObserver(function(a){m.set("enabled",a,{observed:!0})}),c.addNameObserver(b.nameMaxChars,b.nameFallback,function(a){m.set("name",a,{observed:!0})}),c.addNextParameterPageEnabledObserver(function(a){m.set("nextParameterPageEnabled",a,{observed:!0})}),c.addPreviousParameterPageEnabledObserver(function(a){m.set("previousParameterPageEnabled",a,{observed:!0})}),c.addPageNamesObserver(function(){m.set("pageNames",arguments,{observed:!0})}),c.addSelectedPageObserver(-1,function(a){m.set("selectedPage",a,{observed:!0})}),c.addPresetCategoriesObserver(function(){m.set("presetCategories",arguments,{observed:!0})}),c.addPresetCategoryObserver(b.presetCategoryMaxChars,b.presetCategoryFallback,function(a){m.set("presetCategory",a,{observed:!0})}),c.addPresetCreatorsObserver(function(){m.set("presetCreators",arguments,{observed:!0})}),c.addPresetCreatorObserver(b.presetCreatorMaxChars,b.presetCreatorFallback,function(a){m.set("presetCreator",a,{observed:!0})}),l=new f,k=0;8>k;k++)l.add(e.create(c.getCommonParameter(k)));for(this.set("commonParameters",l),l=new f,k=0;8>k;k++)l.add(e.create(c.getEnvelopeParameter(k)));for(this.set("envelopeParameters",l),l=new h,k=0;8>k;k++)l.add(g.create(c.getMacro(k)));for(this.set("macros",l),l=new j,k=0;8>k;k++)l.add(i.create(c.getModulationSource(k)));for(this.set("modulationSources",l),l=new f,k=0;8>k;k++)l.add(e.create(c.getParameter(k)));return this.set("parameters",l),this},mextParameterPage:function(){return this.api.nextParamaterPage(),this},previousParameterPage:function(){return this.api.previousParameterPage(),this},setParameterPage:function(a){return this.api.setParameterPage(a),this},setPresetCategory:function(a){return this.api.setPresetCategory(a),this},setPresetCreator:function(a){return this.api.setPresetCreator(a),this},switchToNextPreset:function(a){return this.api.switchToNextPreset(a),this},switchToPreviousPreset:function(a){return this.api.switchToPreviousPreset(a),this},switchToNextPresetCategory:function(a){return this.api.switchToNextPresetCategory(a),this},switchToPreviousPresetCategory:function(a){return this.api.switchToPreviousPresetCategory(a),this},switchToNextPresetCreator:function(a){return this.api.switchToNextPresetCreator(a),this},switchToPreviousPresetCreator:function(a){return this.api.switchToPreviousPresetCreator(a),this},toggleEnableState:function(a){return this.api.toggleEnableState(a),this}},{create:function(a,b){return new k(void 0,b,a)}});a.bitbone||(a.bitbone={}),a.bitbone.Device=k}(this,host,Backbone,_),function(a,b){"use strict";var c=a.bitbone.Device,d=c.extend({initialize:function(a,c){c||(c={});var d=b.createCursorDevice();this.initCursorDevice(a,c,d),this.api=d,this.initialized=!0},initCursorDevice:function(a,b,c){var d=this;return this.initDevice(a,b,c),c.addCanSelectNextObserver(function(a){d.set("canSelectNext",a,{observed:!0})}),c.addCanSelectPreviousObserver(function(a){d.set("canSelectPrevious",a,{observed:!0})}),this},selectNext:function(){return this.api.selectNext(),this},selectPrevious:function(){return this.api.selectPrevious(),this}},{create:function(a){return new d(a)}});a.bitbone||(a.bitbone={}),a.bitbone.CursorDevice=d}(this,host,Backbone,_),function(a,b,c){"use strict";var d=a.bitbone.BooleanValue,e=c.Model.extend({initialize:function(a,b,c){b||(b={}),this.initSourceSelector(a,b,c),this.api=c,this.initialized=!0},initSourceSelector:function(a,b,c){return this.set({hasAudioInputSelected:d.create(c.getHasAudioInputSelected()),hasNoteInputSelected:d.create(c.getHasNoteInputSelected())}),this}},{create:function(a,b){return new e(void 0,b,a)}});a.bitbone||(a.bitbone={}),a.bitbone.SourceSelector=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.Channel,f=a.bitbone.BooleanValue,g=a.bitbone.ClipLauncherSlots,h=a.bitbone.Device,i=a.bitbone.SourceSelector,j=e.extend({initialize:function(a,b,c){b||(b={}),this.initTrack(a,b,c),this.api=c,this.initialized=!0},initTrack:function(a,b,e){var j=this;return d.defaults(b,{usePitchName:!1,trackTypeMaxChars:12,trackTypeFallbacks:""}),this.initChannel(a,b,e),e.addTrackTypeObserver(b.trackTypeMaxChars,b.trackTypeFallback,function(a){j.set("trackType",a)}),this.on("change:name",function(a,b,c){c.observed||this.initialized&&this.api.setName(b)}).set({arm:f.create(e.getArm(),b.arm),canHoldAudioData:f.create(e.getCanHoldAudioData(),b.canHoldAudioData),canHoldNoteData:f.create(e.getCanHoldNoteData(),b.canHoldNoteData),clipLauncherSlots:g.create(e.getClipLauncherSlots(),b.clipLauncherSlots),matrixQueuedForStop:f.create(e.getIsMatrixQueuedForStop(),b.matrixQueuedForStop),matrixStoped:f.create(e.getIsMatrixStopped(),b.matrixStoped),primaryDevice:h.create(e.getPrimaryDevice(),b.primaryDevice),sourceSelector:i.create(e.getSourceSelector(),b.sourceSelector)}),b.usePitchNames&&(this.set("pitchNames",new c.Collection),e.addPitchNamesObserver(function(a,b){j.add({id:a,name:b})})),this},playNote:function(a,b){return this.api.playNote(a,b),this},returnToArrangement:function(){return this.api.returnToArrangement(),this},startNote:function(a,b){return this.api.startNote(a,b),this},stop:function(){return this.api.stop(),this},stopNote:function(a,b){return this.api.stopNote(a,b),this}},{create:function(a,b){return new j(null,b,a)},createMaster:function(a){return a||(a={}),d.defaults(a,{numScenes:8}),a.numSends=0,j.create(b.createMasterTrack(a.numScenes),a)}}),k=c.Collection.extend({model:j});a.bitbone||(a.bitbone={}),a.bitbone.Track=j,a.bitbone.TrackCollection=k}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.Track,f=e.extend({initialize:function(a,c){c||(c={}),d.defaults(c,{numSends:8,numScenes:8});var e=b.createCursorTrack(c.numSends,c.numScenes);this.initCursorTrack(a,c,e),this.api=e,this.initialized=!0},initCursorTrack:function(a,b,c){return this.initTrack(a,b,c),this},selectNext:function(){return this.api.selectNext(),this},selectPrevious:function(){return this.api.selectPrevious(),this}},{create:function(a){return new f(void 0,a)}});a.bitbone||(a.bitbone={}),a.bitbone.CursorTrack=f}(this,host,Backbone,_),function(a,b,c){"use strict";var d=a.bitbone.AutomatableRangedValue,e=c.Model.extend({initialize:function(a,c){c||(c={});var d=b.createGroove();this.initGroove(a,c,d),this.api=d,this.initialized=!0},initGroove:function(a,b,c){return this.set({accentAmount:d.create(c.getAccentAmount(),b.accentAmount),accentRate:d.create(c.getAccentRate(),b.accentRate),accentPhase:d.create(c.getAccentPhase(),b.accentPhase),shuffleAmount:d.create(c.getShuffleAmount(),b.shuffleAmount),shuffleRate:d.create(c.getShuffleRate(),b.shuffleRate),enabled:d.create(c.getEnabled())}),this}},{create:function(a){return new e(null,a)}});a.bitbone||(a.bitbone={}),a.bitbone.Groove=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=c.Model.extend({initialize:function(a,c){c||(c={}),d.defaults(c,{perspective:"",screenIndex:0});var e=b.createMixer(c.perspective,c.screenIndex);this.initMixer(a,c,e),this.api=e,this.initialized=!0},initMixer:function(a,b,c){var d=this;return c.addClipLauncherSectionVisibilityObserver(function(a){d.set("clipLauncherSectionVisibility",a,{observed:!0})}),c.addCrossFadeSectionVisibilityObserver(function(a){d.set("crossFadeSectionVisibility",a,{observed:!0})}),c.addDeviceSectionVisibilityObserver(function(a){d.set("deviceSectionVisibility",a,{observed:!0})}),c.addIoSectionVisibilityObserver(function(a){d.set("ioSectionVisibility",a,{observed:!0})}),c.addMeterSectionVisibilityObserver(function(a){d.set("meterSectionVisibility",a,{observed:!0})}),c.addSendsSectionVisibilityObserver(function(a){d.set("sendsSectionVisibility",a,{observed:!0})}),this.on("change:clipLauncherSectionVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleClipLauncherSectionVisibility()}).on("change:crossFadeSectionVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleCrossFadeSectionVisibility()}).on("change:deviceSectionVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleDeviceSectionVisibility()}).on("change:ioSectionVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleIoSectionVisibility()}).on("change:meterSectionVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleMeterSectionVisibility()}).on("change:sendsSectionVisibility",function(a,b,c){c.observed||this.initialized&&this.toggleSendsSectionVisibility()}),this},toggleClipLauncherSectionVisibility:function(){return this.api.toggleClipLauncherSectionVisibility(),this},toggleCrossFadeSectionVisibility:function(){return this.api.toggleCrossFadeSectionVisibility(),this},toggleDeviceSectionVisibility:function(){return this.api.toggleDeviceSectionVisibility(),this},toggleIoSectionVisibility:function(){return this.api.toggleIoSectionVisibility(),this},toggleMeterSectionVisibility:function(){return this.api.toggleMeterSectionVisibility(),this},toggleSendsSectionVisibility:function(){return this.api.toggleSendsSectionVisibility(),this}},{create:function(a){return new e(void 0,a)}});a.bitbone||(a.bitbone={}),a.bitbone.Mixier=e}(this,host,Backbone,_),function(a){"use strict";var b=a.bitbone.Device,c=a.ChainLocation,d=a.DeviceType,e=b.extend({initialize:function(a,b,c){b||(b={}),this.initPrimaryDevice(a,b,c),this.api=c,this.initialized=!0},initPrimaryDevice:function(a,b,e){var f=this;return this.initDevice(a,b,e),e.addCanSwitchToDeviceObserver(d.ANY,c.FIRST,function(a){f.set("canSwithcToFirst",a,{observed:!0})}),e.addCanSwitchToDeviceObserver(d.ANY,c.LAST,function(a){f.set("canSwithcToLast",a,{observed:!0})}),e.addCanSwitchToDeviceObserver(d.ANY,c.LAST,function(a){f.set("canSwithcToNext",a,{observed:!0})}),e.addCanSwitchToDeviceObserver(d.ANY,c.PREVIOUS,function(a){f.set("canSwithcToPrevious",a,{observed:!0})}),this},switchToDeviceFirst:function(){return this.api.switchToDevice(d.ANY,c.FISRT),this},switchToDeviceLast:function(){return this.api.switchToDevice(d.ANY,c.LAST),this},switchToDeviceNext:function(){return this.api.switchToDevice(d.ANY,c.NEXT),this},switchToDevicePrevious:function(){return this.api.switchToDevice(d.ANY,c.Previous),this}},{create:function(a,c){return new b(void 0,c,a)}});a.bitbone||(a.bitbone={}),a.bitbone.PrimaryDevice=e}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.Track,f=a.bitbone.TrackCollection,g=a.bitbone.ClipLauncherScenesOrSlots,h=c.Model.extend({model:e,initialize:function(a,b,c){b||(b={}),this.initTrackBank(a,b,c),this.api=c,this.initialized=!0},initTrackBank:function(a,b,c){var h=this;d.defaults(b,{trackScrollStepSize:1}),c.addCanScrollScenesDownObserver(function(a){h.set("canScrollScenesDown",a,{observed:!0})}),c.addCanScrollScenesUpObserver(function(a){h.set("canScrollScenesUp",a,{observed:!0})}),c.addCanScrollSendsDownObserver(function(a){h.set("canScrollSendsDown",a,{observed:!0})}),c.addCanScrollSendsUpObserver(function(a){h.set("canScrollSendsUp",a,{observed:!0})}),c.addCanScrollTracksDownObserver(function(a){h.set("canScrollTracksDown",a,{observed:!0})}),c.addCanScrollTracksUpObserver(function(a){h.set("canScrollTracksUp",a,{observed:!0})}),c.addSceneScrollPositionObserver(function(a){h.set("sceneScrollPosition",a,{observed:!0})},-1),c.addTrackScrollPositionObserver(function(a){h.set("trackScrollPosition",a,{observed:!0})},-1),c.setTrackScrollStepSize(b.trackScrollStepSize);for(var i=new f,j=0;j<b.numTracks;j++)i.add(e.create(c.getTrack(j),b.track));return this.set({trackScrollStepSize:b.trackScrollStepSize,clipLauncherScenes:g.create(c.getClipLauncherScenes(),b.clipLauncherScenes),tracks:i}).on("change:trackScrollStepSize",function(a,b,c){c.observed||this.initialized&&this.api.setTrackScrollStepSize(b)}),this},launchScenes:function(a){return this.api.lacunhScenes(a),this},scrollScenesDown:function(){return this.api.scrollScenesDown(),this},scrollScenesPageDown:function(){return this.api.scrollScenesPageDown(),this},scrollScenesPageUp:function(){return this.api.scrollScenesPageUp(),this},scrollScenesUp:function(){return this.api.scrollScenesUp(),this},scrollSendsDown:function(){return this.api.scrollSendsDown(),this},scrollSendsPageDown:function(){return this.api.scrollSendsPageDown(),this},scrollSendsPageUp:function(){return this.api.scrollSendsPageUp(),this},scrollSendsUp:function(){return this.api.scrollSendsUp(),this},scrollToScene:function(a){return this.api.scrollToScene(a),this},scrollToTrack:function(a){return this.api.scrollToTrack(a),this},scrollTracksDown:function(){return this.api.scrollTracksDown(),this},scrollTracksPageDown:function(){return this.api.scrollTracksPageDown(),this},scrollTracksPageUp:function(){return this.api.scrollTracksPageUp(),this},scrollTracksUp:function(){return this.api.scrollTracksUp(),this}},{create:function(a){return a||(a={}),d.defaults(a,{numTracks:8,numSends:8,numScenes:8}),new h(null,a,b.createTrackBank(a.numTracks,a.numSends,a.numScenes))},createMain:function(a){return a||(a={}),d.defaults(a,{numTracks:8,numSends:8,numScenes:8}),new h(null,a,b.createMainTrackBank(a.numTracks,a.numSends,a.numScenes))},createEffect:function(a){return a||(a={}),d.defaults(a,{numTracks:2,numScenes:8}),new h(null,a,b.createEffectTrackBank(a.numTracks,a.numScenes))}});a.bitbone||(a.bitbone={}),a.bitbone.TrackBank=h}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.BeatTime,f=a.bitbone.RangedValue,g=c.Model.extend({initialize:function(a,c){c||(c={});var d=b.createTransport();this.initTransport(a,c,d),this.api=d,this.initialized=!0},initTransport:function(a,b,c){var g=this;return d.defaults(b,{tempo:{range:666}}),c.addAutomationOverrideObserver(function(a){g.set("automationOverride",a,{observed:!0})}),c.addAutomationWriteModeObserver(function(a){g.set("automationWriteMode",a,{observed:!0})}),c.addClickObserver(function(a){g.set("click",a,{observed:!0})}),c.addIsLoopActiveObserver(function(a){g.set("loopActive",a,{observed:!0})}),c.addIsPlayingObserver(function(a){g.set("playing",a,{observed:!0})}),c.addIsRecordingObserver(function(a){g.set("recording",a,{observed:!0})}),c.addIsWritingArrangerAutomationObserver(function(a){g.set("writingArrangerAutomation",a,{observed:!0})}),c.addIsWritingClipLauncherAutomationObserver(function(a){g.set("writingClipLauncherAutomation",a,{observed:!0})}),c.addLauncherOverdubObserver(function(a){g.set("launcherOverdub",a,{observed:!0})}),c.addMetronomeTicksObserver(function(a){g.set("metronomeTicks",a,{observed:!0})}),c.addMetronomeVolumeObserver(function(a){g.set("metronomeVolume",a,{observed:!0})}),c.addOverdubObserver(function(a){g.set("overdub",a,{observed:!0})}),c.addPreRollObserver(function(a){g.set("preRoll",a,{observed:!0})}),c.addPunchInObserver(function(a){g.set("punchIn",a,{observed:!0})}),c.addPunchOutObserver(function(a){g.set("punchOut",a,{observed:!0})}),this.on("change:automationWriteMode",function(a,b,d){d.observed||this.initialized&&c.setAutomationWriteMode(b)}).on("change:click",function(a,b,c){c.observed||this.initialized&&this.api.setClick(b)}).on("change:loopActive",function(a,b,c){c.observed||this.initialized&&this.api.setLoop(b)}).on("change:playing",function(a,b,c){c.observed||this.initialized&&(b?this.stop():this.play())}).on("change:recording",function(a,b,c){c.observed||this.initialized&&this.record()}).on("change:writingArrangerAutomation",function(a,b,c){c.observed||this.initialized&&this.api.toggleWriteArrangerAutomation()}).on("change:writingClipLauncherAutomation",function(a,b,c){c.observed||this.initialized&&this.api.toggleWriteClipLauncherAutomation()}).on("change:launcherOverdub",function(a,b,c){c.observed||this.initialized&&this.api.setLauncherOverdub(b)}).on("change:metronomeTicks",function(a,b,c){c.observed||this.initialized&&this.api.toggleMetronomeTicks()}).on("change:metronomeVolume",function(a,b,c){c.observed||this.initialized&&this.api.setMetronomeValue(b,d.isNumber(c.range)?c.range:128)}).on("change:overdub",function(a,b,c){c.observed||this.initialized&&this.api.setOverdub(b)}).on("change:punchIn",function(a,b,c){c.observed||this.initialized&&this.api.togglePunchIn()}).on("change:punchOut",function(a,b,c){c.observed||this.initialized&&this.api.togglePunchOut()}).set({inPosition:e.create(c.getInPosition(),b.inPostion),outPosition:e.create(c.getOutPosition(),b.outPosition),position:e.create(c.getPosition(),b.position),tempo:f.create(c.getTempo(),b.tempo)}),this},fastForward:function(){return this.get("playing")?(this.stop(),this.api.fastForward(),this.deferredPlay(50)):this.api.fastForward(),this},incPosition:function(a,b){return this.api.incPosition(a,b),this},incTempo:function(a,b){return this.api.increaseTempo(a,b?64700:647),this},incTempoSlow:function(a){return this.incTempo(a,!0),this},incTempoFast:function(a){return this.incTempo(a,!1),this},jumpToInPosition:function(){var a=this.get("inPosition").get("rawValue");return this.get("playing")?(this.stop(),this.get("position").setRaw(a),this.deferredPlay(50)):this.get("position").setRaw(a),this
},jumpToOutPosition:function(){var a=this.get("outPosition").get("rawValue");return this.get("playing")?(this.stop(),this.get("position").setRaw(a),this.deferredPlay(50)):this.get("position").setRaw(a),this},play:function(){return this.api.play(),this},deferredPlay:function(a){var c=this;return b.scheduleTask(function(){c.play()},null,a),this},record:function(){return this.api.record(),this},resetAutomationOverrides:function(){return this.api.resetAutomationOverrides(),this},rstart:function(){return this.api.restart(),this},returnToArrangement:function(){return this.api.returnToArrangement(),this},rewind:function(){return this.get("playing")?(this.stop(),this.api.rewind(),this.deferredPlay(50)):this.api.rewind(),this},stop:function(){return this.api.stop(),this},toggleClick:function(){return this.api.toggleClick(),this},toggleLatchAutomationWriteMode:function(){return this.api.toggleLatchAutomationWriteMode(),this},toggleLauncherOverdub:function(){return this.api.toggleLauncherOverdub(),this},toggleLoop:function(){return this.api.toggleLoop(),this},toggleMetronomeTicks:function(){return this.api.toggleMetronomeTicks(),this},toggleOverdub:function(){return this.api.toggleOverdub(),this},togglePlay:function(){return this.api.togglePlay(),this},togglePunchIn:function(){return this.api.togglePunchIn(),this},togglePunchOut:function(){return this.api.togglePunchOut(),this},toggleWriteArrangerAutomation:function(){return this.api.toggleWriteArrangerAutomation(),this},toggleWriteClipLauncherAutomation:function(){return this.api.toggleWriteClipLauncherAutomation(),this}},{create:function(a){return new g(a)}});a.bitbone||(a.bitbone={}),a.bitbone.Transport=g}(this,host,Backbone,_),function(a,b,c,d){"use strict";var e=a.bitbone.AutomatableRangedValue,f=a.bitbone.AutomatableRangedValueCollection,g=f.extend({initialize:function(a,c){c||(c={}),d.defaults(c,{numControllers:40});var e=b.createUserControls(c.numControllers);this.initUserControlBank(a,c,e),this.api=e,this.initialized=!0},initUserControlBank:function(a,b,c){for(var d=0;d<b.numControllers;d++)this.add(e.create(c.getControl(d)));return this}},{create:function(a){return new g(void 0,a)}});a.bitbone||(a.bitbone={}),a.bitbone.UserControlBank=g}(this,host,Backbone,_);